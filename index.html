<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zertifikat</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="qrstyle.css">      
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <style>
        #qr-code {
            display: none; /* Hide initially */
            margin: 20px auto;
        }
    </style>
    <script>
        function showPrintView() {
            // Open a new window with the print-friendly view
            var printWindow = window.open('', '_blank');
            var printContent = document.getElementById('section-to-print').outerHTML;
            printWindow.document.write('<html><head><title>Zertifikat</title></head><body>');
            printWindow.document.write(printContent);
            printWindow.document.write('<script>window.onload = function() { window.print(); }</script>');
            printWindow.document.write('</body></html>');
            
            // Generate and display QR code
            generateQRCode();
        }

        function generateQRCode() {
            var qrCodeURL = window.location.href + '?print=true';
            var qrCode = new QRCode(document.getElementById('qr-code'), {
                text: qrCodeURL,
                width: 128,
                height: 128,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
            document.getElementById('qr-code').style.display = 'block'; // Show the QR code div
        }
    </script>
</head>

<body>
    <div id="section-to-print" class="certificate">
        <h1>Zertifikat</h1>
        <p class="p1">Dieses Zertifikat wird verliehen an</p>              
        <p class="p4"><b>John Doe</b></p> <!-- Replace 'John Doe' with the actual name -->
        <p class="p2">am</p>
        <p class="name">01.01.2024</p>
        <p class="p3">für das erfolgreiche Absolvieren aller IT-Workshops <br> 
            am Tag der offenen Tür an der HTL Mödling.
        </p>
        <img src=".\abz.png" width="200" height="250">
    </div>
    <button onclick="showPrintView()">Show Print View</button>
    <div id="qr-code"></div>
</body>

</html>
